<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Frise chronologique param√©trable</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&family=DM+Sans:wght@400;500;600&family=Playfair+Display:wght@500&family=Roboto:wght@400;500&family=Poppins:wght@400;500&family=Montserrat:wght@500;600&family=Lora:wght@500&family=Manrope:wght@500;600&family=Open+Sans:wght@400;600&family=Lato:wght@400;700&family=Oswald:wght@500&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header class="topbar">
    <div class="title-block">
      <div class="title">Frise chronologique param√©trable</div>
      <p class="subtitle">Configurez la grille, ajoutez des √©v√©nements et p√©riodes, d√©placez-les librement, exportez en
        PDF multi-pages.</p>
    </div>
    <div class="top-actions">
      <div class="action-group">
        <button class="ghost" id="toggle-lists">Masquer listes</button>
        <button class="ghost" id="open-settings">üîß</button>
        <button class="ghost" id="save-state">üíæ</button>
        <label class="ghost file-label">
          Charger une frise
          <input type="file" id="load-input" accept="application/json">
        </label>

        <select id="pdf-orientation" class="compact">
          <option value="landscape">‚ñ¨</option>
          <option value="portrait">‚ñÆ</option>
        </select>

        <button id="save-image">PNG</button>
        <button id="export-pdf">PDF</button>
        <button id="export-html">HTML</button>
      </div>
    </div>
  </header>

  <div class="modal hidden" id="settings-modal">
    <div class="modal-backdrop" id="close-settings"></div>
    <div class="modal-content card">
      <div class="modal-head">
        <h3>Param√®tres g√©n√©raux de la frise</h3>
        <button class="ghost" id="close-settings-btn">Fermer</button>
      </div>

      <div class="settings-section">
        <h4>Plage & √©chelle</h4>
        <div class="form-grid">
          <label>D√©but
            <input id="start" data-setting="start" type="number" value="1900" step="1">
          </label>
          <label>Fin
            <input id="end" data-setting="end" type="number" value="2025" step="1">
          </label>
          <label>Unit√©s par graduation principale
            <input data-setting="mainStep" type="number" value="10" step="1" min="0.01">
          </label>
          <label>Graduations secondaires par intervalle
            <input data-setting="secondaryPerMain" type="number" value="4" step="1" min="0">
          </label>
          <label>mm entre graduations principales
            <input data-setting="mmPerMain" type="number" value="15" step="1" min="1">
          </label>
        </div>
      </div>

      <div class="settings-section">
        <h4>Dimensions & offsets</h4>
        <div class="form-grid">
          <label>Hauteur zone (px)
            <input data-setting="timelineHeight" type="number" value="700" step="10" min="200">
          </label>
          <label>Hauteur graduations principales (px)
            <input data-setting="mainTickHeight" type="number" value="20" step="1" min="2">
          </label>
          <label>Hauteur graduations secondaires (px)
            <input data-setting="secondaryTickHeight" type="number" value="12" step="1" min="2">
          </label>
          <label>Distance dates (px)
            <input data-setting="labelOffset" type="number" value="6" step="1">
          </label>
          <label>D√©calage vertical par d√©faut √©v√©nements
            <input data-setting="eventBaseOffset" type="number" value="-180" step="5">
          </label>
          <label>D√©calage vertical par d√©faut p√©riodes
            <input data-setting="periodBaseOffset" type="number" value="-180" step="5">
          </label>
        </div>
      </div>

      <div class="settings-section">
        <h4>Couleurs</h4>
        <div class="form-grid">
          <label>Couleur fond frise
            <input data-setting="backgroundColor" type="color" value="#FFFFFF">
          </label>
          <label>Couleur ligne de base
            <input data-setting="baselineColor" type="color" value="#0f172a">
          </label>
          <label>Couleur graduations principales
            <input data-setting="mainTickColor" type="color" value="#0f172a">
          </label>
          <label>Couleur graduations secondaires
            <input data-setting="secondaryTickColor" type="color" value="#94a3b8">
          </label>
          <label>Couleur des labels
            <input data-setting="labelColor" type="color" value="#0f172a">
          </label>
        </div>
      </div>

      <div class="settings-section">
        <h4>Labels principaux</h4>
        <div class="form-grid">
          <label>Taille texte graduations (px)
            <input data-setting="labelSize" type="number" value="12" step="1">
          </label>
          <label>Police graduations
            <select data-setting="labelFont">
              <option value="Space Grotesk">Space Grotesk</option>
              <option value="DM Sans">DM Sans</option>
              <option value="Playfair Display">Playfair Display</option>
              <option value="Roboto">Roboto</option>
              <option value="Poppins">Poppins</option>
              <option value="Montserrat">Montserrat</option>
              <option value="Lora">Lora</option>
              <option value="Manrope">Manrope</option>
            </select>
          </label>
        </div>
      </div>

      <div class="settings-section">
        <h4>Labels secondaires</h4>
        <div class="form-grid">
          <label class="checkbox-label" style="grid-column: 1 / -1;">
            <input data-setting="showSecondaryLabels" type="checkbox">
            Afficher les graduations secondaires
          </label>
          <label>Taille texte (px)
            <input data-setting="secondaryLabelSize" type="number" value="10" step="1">
          </label>
          <label>Couleur texte
            <input data-setting="secondaryLabelColor" type="color" value="#6b7a90">
          </label>
          <label>Distance dates (px)
            <input data-setting="secondaryLabelOffset" type="number" value="4" step="1">
          </label>
          <label>Police graduations secondaires
            <select data-setting="secondaryLabelFont">
              <option value="Space Grotesk">Space Grotesk</option>
              <option value="DM Sans">DM Sans</option>
              <option value="Playfair Display">Playfair Display</option>
              <option value="Roboto">Roboto</option>
              <option value="Poppins">Poppins</option>
              <option value="Montserrat">Montserrat</option>
              <option value="Lora">Lora</option>
              <option value="Manrope">Manrope</option>
            </select>
          </label>
        </div>
      </div>

      <div class="modal-actions">
        <button class="ghost" id="reset-settings">R√©initialiser</button>
        <button id="apply-settings">Appliquer</button>
      </div>
    </div>
  </div>

  <main>
    <aside class="sidebar">
      <div class="card">
        <h3>√âv√©nements</h3>
        <form id="event-form" class="form-grid">
          <label>Titre
            <input name="title" type="text" placeholder="Ex: Lancement produit" required>
          </label>
          <label>Position (valeur)
            <input name="value" type="number" step="0.1" required>
          </label>
          <select name="font">
            <option value="Space Grotesk">Space Grotesk</option>
            <option value="DM Sans">DM Sans</option>
            <option value="Playfair Display">Playfair Display</option>
            <option value="Roboto">Roboto</option>
            <option value="Open Sans">Open Sans</option>
            <option value="Lato">Lato</option>
            <option value="Montserrat">Montserrat</option>
            <option value="Oswald">Oswald</option>
          </select>
          <label>Taille (px)
            <input name="fontSize" type="number" value="15" min="8">
          </label>
          <label>Largeur (px)
            <input name="width" type="number" value="120" min="50">
          </label>
          <label>Couleur texte
            <input name="textColor" type="color" value="#0f172a">
          </label>
          <label>Couleur fond
            <input name="backgroundColor" type="color" value="#e0f2fe">
          </label>
          <label>Opacit√© fond
            <input name="backgroundOpacity" type="range" min="0.05" max="1" step="0.05" value="1">
          </label>
          <label>Couleur du lien
            <input name="connectorColor" type="color" value="#0f172a">
          </label>
          <label class="checkbox-label">
            <input name="showDate" type="checkbox" checked>
            Afficher la date
          </label>
          <label>Image (optionnel)
            <input name="image" type="file" accept="image/*">
          </label>
          <label>Texte compl√©mentaire
            <textarea name="detail" placeholder="Notes"></textarea>
          </label>
          <div class="section-row" style="grid-column: 1 / -1;">
            <button type="submit" id="event-submit">Ajouter</button>
            <button type="button" class="ghost" id="clear-events">Vider</button>
          </div>
        </form>
      </div>

      <div class="cardP">
        <h3>P√©riodes</h3>
        <form id="period-form" class="form-grid">
          <label>Titre
            <input name="title" type="text" placeholder="Ex: P√©riode industrielle" required>
          </label>
          <label>D√©but (valeur)
            <input name="start" type="number" step="0.1" required>
          </label>
          <label>Fin (valeur)
            <input name="end" type="number" step="0.1" required>
          </label>
          <label>Style
            <select name="style">
              <option value="rect">Rectangle color√©</option>
              <option value="line">Ligne avec bornes</option>
            </select>
          </label>
          <label>√âpaisseur (px)
            <input name="thickness" type="number" value="4" min="1">
          </label>
          <label>Hauteur encadr√© (px)
            <input name="rectHeight" type="number" value="44" min="12">
          </label>
          <label>Alignement vertical du titre
            <select name="titleAlignment">
              <option value="middle">Milieu</option>
              <option value="top">Haut</option>
              <option value="bottom">Bas</option>
            </select>
          </label>
          <label>Opacit√© (fond)
            <input name="fillOpacity" type="range" min="0.05" max="1" step="0.05" value="0.45">
          </label>
          <label>Couleur fond / ligne
            <input name="fillColor" type="color" value="#cffafe">
          </label>
          <label>Couleur texte
            <input name="textColor" type="color" value="#0f172a">
          </label>
          <label>Couleur contour
            <input name="strokeColor" type="color" value="#0ea5e9">
          </label>
          <label>Taille texte (px)
            <input name="fontSize" type="number" value="14" min="8">
          </label>
          <label>Police
            <select name="font">
              <option value="Space Grotesk">Space Grotesk</option>
              <option value="DM Sans">DM Sans</option>
              <option value="Playfair Display">Playfair Display</option>
              <option value="Roboto">Roboto</option>
              <option value="Open Sans">Open Sans</option>
              <option value="Lato">Lato</option>
              <option value="Montserrat">Montserrat</option>
              <option value="Oswald">Oswald</option>
            </select>
          </label>
          <label class="checkbox-label">
            <input name="showDate" type="checkbox" checked>
            Afficher les dates
          </label>
          <label>Image (optionnel)
            <input name="image" type="file" accept="image/*">
          </label>
          <label>Texte compl√©mentaire
            <textarea name="detail" placeholder="Notes"></textarea>
          </label>
          <div class="section-row" style="grid-column: 1 / -1;">
            <button type="submit" id="period-submit">Ajouter</button>
            <button type="button" class="ghost" id="clear-periods">Vider</button>
          </div>
        </form>
      </div>
    </aside>

    <section class="main-content">
      <div class="timeline-wrapper">
        <div class="timeline-scroll" id="timeline-scroll">
          <div id="timeline-space"></div>
        </div>
      </div>
    </section>
  </main>

  <aside class="listing-panel" id="listing-panel">
    <div class="card">
      <div class="panel-head">
        <h3>√âv√©nements cr√©√©s</h3>
      </div>
      <div class="pill-list" id="event-list"></div>
    </div>
    <div class="cardP">
      <div class="panel-head">
        <h3>P√©riodes cr√©√©es</h3>
      </div>
      <div class="pill-list" id="period-list"></div>
    </div>
  </aside>


  <script src="script.js"></script>
</body>

</html>